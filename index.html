<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Weekly Agendas — Drive AppData + Optional Gist Backup</title>

<style>
:root{ --ink:#111; --muted:#666; --link:#2166c2; --ring:#1697BB; --bg:#fff; --border:#CECFD3; }
html,body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color:var(--ink); background:#fff; margin:0}
.wrap{max-width:1100px;margin:32px auto;padding:0 16px; position:relative}

/* ---------- Toolbar ---------- */
.toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:6px 0 18px}
.btn{border:1px solid var(--ring); color:#084b5a; padding:8px 12px; border-radius:10px; background:#e9f6fb; font-weight:600}
.btn.secondary{border-color:#ddd;background:#fafafa;color:#222}
.iconBtn{
  border:1px solid var(--border);
  background:#fff;
  border-radius:10px;
  padding:8px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.iconBtn svg{width:18px;height:18px}
.pill{font-size:12px; border:1px solid #ddd; padding:2px 8px; border-radius:999px}

/* ---------- Modal ---------- */
.modalBackdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:100;
}
.modal{
  width:min(980px,92vw);
  background:#fff;
  border-radius:14px;
  border:1px solid var(--border);
  box-shadow:0 18px 60px rgba(0,0,0,.25);
  display:flex;
  flex-direction:column;
  max-height:94vh;
}
.modal header{
  padding:12px 14px;
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
}
.modal header h2{
  margin:0;
  font-size:16px;
  font-weight:700;
}
.modal header .iconBtn{ margin-left:auto; }
.modal .body{
  padding:14px 16px;
  overflow:auto;
}

/* ---------- Schedule Overview ---------- */
.overviewList{
  padding-left:18px;
  line-height:1.6;
  font-size:14px;
  margin:0;
}
.overviewList li{ margin-bottom:6px; }
</style>
</head>

<body>

<div class="wrap">

  <header style="display:flex;justify-content:space-between;align-items:flex-start;gap:16px;">
    <h1 style="font-weight:800;font-size:28px;border-bottom:10px solid #111;padding-bottom:8px;margin:0;">
      Click Links to Access Weekly Agendas
    </h1>
  </header>

  <!-- TOOLBAR -->
  <div class="toolbar">
    <button id="authBtn" class="btn" disabled>Loading Google…</button>
    <button id="signoutBtn" class="btn secondary" disabled>Sign out</button>
    <span id="authState" class="pill">Drive: <strong>signed out</strong></span>

    <!-- ✅ Calendar icon only -->
    <button id="openScheduleOverview" class="iconBtn" title="Schedule overview">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2"/>
        <line x1="16" y1="2" x2="16" y2="6"/>
        <line x1="8" y1="2" x2="8" y2="6"/>
        <line x1="3" y1="10" x2="21" y2="10"/>
      </svg>
    </button>
  </div>

  <div id="currentWeekBlock"></div>
  <div id="allWeeks"></div>

</div>

<!-- ================= SCHEDULE OVERVIEW MODAL ================= -->
<div id="scheduleOverviewModal" class="modalBackdrop">
  <div class="modal" style="max-width:520px;">
    <header>
      <h2>Holidays & others</h2>
      <button id="closeScheduleOverview" class="iconBtn" title="Close">✕</button>
    </header>

    <div class="body">
      <ul class="overviewList">
        <li><strong>Monday, January 19</strong>: Martin Luther King Jr Birthday</li>
        <li><strong>Monday, February 16</strong>: Presidents' Day</li>
        <li><strong>Friday, March 27</strong>: Cesar E. Chavez Birthday</li>
        <li><strong>March 30 – April 1</strong>: Spring Recess</li>
        <li><strong>Friday, April 24</strong>: Armenian Genocide Remembrance Day</li>
        <li><strong>Monday, May 25</strong>: Memorial Day</li>
        <li><strong>Wednesday, June 10</strong>: Last Day of Instruction</li>
      </ul>
    </div>
  </div>
</div>

<script>
// ===== Schedule Overview Modal =====
const overviewModal = document.getElementById("scheduleOverviewModal");
const openOverviewBtn = document.getElementById("openScheduleOverview");
const closeOverviewBtn = document.getElementById("closeScheduleOverview");

openOverviewBtn.addEventListener("click", () => {
  overviewModal.style.display = "flex";
});

closeOverviewBtn.addEventListener("click", () => {
  overviewModal.style.display = "none";
});

overviewModal.addEventListener("click", (e) => {
  if (e.target === overviewModal) {
    overviewModal.style.display = "none";
  }
});
</script>

</body>
</html>
